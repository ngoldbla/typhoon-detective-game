{
  "$schema": "https://railway.app/railway.schema.json",
  "name": "Emerson's Detective Game",
  "description": "AI-powered detective mystery game for kids with image generation and persistence",
  "repo": "https://github.com/ngoldbla/typhoon-detective-game",
  "icon": "üîç",
  "services": {
    "web": {
      "build": {
        "builder": "NIXPACKS"
      },
      "deploy": {
        "startCommand": "streamlit run streamlit_app.py --server.port=$PORT --server.address=0.0.0.0 --server.headless=true",
        "restartPolicyType": "ON_FAILURE",
        "restartPolicyMaxRetries": 10
      },
      "env": {
        "OPENAI_API_KEY": {
          "description": "Your OpenAI API key",
          "required": true
        },
        "OPENAI_MODEL": {
          "description": "OpenAI model to use (default: gpt-4o)",
          "default": "gpt-4o",
          "required": false
        }
      },
      "volumes": [
        {
          "mountPath": "/data",
          "name": "detective_game_data"
        }
      ]
    }
  }
}
